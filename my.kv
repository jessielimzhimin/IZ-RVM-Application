WindowManager:
    mainPage:
    registerPage:
    promptPage:
    loadingPage:

<FailedPopup>

    auto_dismiss: False
    size_hint: 0.6, 0.2
    pos_hint: {"x":0.2, "top": 0.9}

    title: "Invalid Username or Password"
    Button:
        text: "Ok"
        font_size: 24
        on_release: root.dismiss()

<SuccessPopup>

    auto_dismiss: False
    size_hint: 0.6, 0.2
    pos_hint: {"x": 0.2, "top": 0.9}

    title: "Successful Downloaded as rvm.xls"
    Button:
        text: "ok"
        font_size: 24
        on_release: root.dismiss()
        


<mainPage>
    name: "main"

    BoxLayout:
        orientation: 'vertical'
        studentID: studentID
        size: root.width, root.height
        padding: 30

        canvas.before:
            Color:
                rgba: 0.945, 1, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos

        BoxLayout:
            orientation: 'vertical'
            Image:
                source: './ucsilogo.png'

        BoxLayout:
            orientation: 'horizontal'
            padding: 20
            Label: 
                text: "Student ID"
                color: 0, 0, 0, 1
            TextInput: 
                id: studentID
                size: self.parent.size
                multiline: False
                background_color: (1, 1, 1, 1)
                on_text: 
                    root.start()
                on_touch_down: 
                    root.keyboard()
                
        BoxLayout:
            orientation: 'horizontal'
            padding: 20
            Label: 
                text: "ELE Course Code"
                color: 0, 0, 0, 1
            TextInput: 
                id: studentELE
                size: self.parent.size
                multiline: False
                background_color: (1, 1, 1, 1)
                on_text:
                    root.start()
                on_touch_down: 
                    root.keyboard()

        BoxLayout:
            orientation: 'vertical'
            padding: 250, 20
            Button:
                id: startbtn
                size: self.parent.size
                text: "Start"
                background_color: (0.3922, 0.5843, 0.9294, 1)
                disabled: True 
                on_release: 
                    root.integer()
        BoxLayout:
            orientation: 'vertical'
            padding: 250, 20
            Button:
                id: registerbtn
                size: self.parent.size
                text: "Register"
                background_color: (0.3922, 0.5843, 0.9294, 1)
                disabled: False
                on_release:
                    root.register()

        BoxLayout:
            orientation: 'vertical'
            padding: 250, 20
            Button:
                id: adminbtn
                size: self.parent.size
                text: "Admin"
                background_color: (0.3922, 0.5843, 0.9294, 1)
                disabled: False
                on_release:
                    root.admin_btn()
        BoxLayout:
            Label: 
                text: "How to use"
                color: 0, 0, 0, 1
                underline: True

<AdminPage>
    name: "admin"
    
    BoxLayout:
        orientation: 'vertical'
        admin_username: admin_username
        size: root.width, root.height
        padding: 30

        canvas.before:
            Color:
                rgba: 0.945, 1, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos

        BoxLayout:
            orientation: 'horizontal'
            padding: 35
            Label: 
                text: "Username"
                color: 0, 0, 0, 1
            TextInput: 
                id: admin_username
                size: self.parent.size
                multiline: False
                background_color: (1, 1, 1, 1)
                on_text: 
                    root.text_check()
                on_touch_down: 
                    root.keyboard()
        BoxLayout:
            orientation: 'horizontal'
            padding: 35
            Label: 
                text: "Password"
                color: 0, 0, 0, 1
            TextInput: 
                id: admin_password
                size: self.parent.size
                multiline: False
                background_color: (1, 1, 1, 1)
                on_text: 
                    root.text_check()
                on_touch_down: 
                    root.keyboard()
        BoxLayout:
            orientation: 'horizontal'
            padding: 50
            Button:
                id: downloadbtn
                text: "Download"
                background_color: (0.3922, 0.5843, 0.9294, 1)
                disabled: True 
                on_release: 
                    root.downloadbtn()
            Button:
                id: backbtn
                text: "Back"
                background_color: (0.3922, 0.5843, 0.9294, 1)
                on_release: 
                    root.back()

<registerPage>:
    name: "register"

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height
        orientation: 'vertical'
        padding: [100, 50]
        canvas.before:
            Color:
                rgba: 0.945, 1, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos

        BoxLayout:
            orientation: 'horizontal'
            padding: 2
            Label: 
                text: "Student Name"
                size_hint: (.2, .5)
                color: 0, 0, 0, 1
            TextInput: 
                id: studentName
                #size: self.parent.size
                size_hint: (.2, .5)
                multiline: False
                background_color: (1, 1, 1, 1)
                on_text:
                    root.text_check()
                on_touch_down: 
                    root.keyboard()
                    
        BoxLayout:
            orientation: 'horizontal'
            padding: 2
            Label: 
                text: "Student ID"
                size_hint: (.2, .5)
                color: 0, 0, 0, 1
            TextInput: 
                id: studentID
                size_hint: (.2, .5)
                multiline: False
                background_color: (1, 1, 1, 1)
                on_text:
                    root.text_check()
                on_touch_down: 
                    root.keyboard()
                    
        BoxLayout:
            orientation: 'horizontal'
            padding: 2
            Label: 
                text: "Programme (ShortForm)"
                size_hint: (.2, .5)
                color: 0, 0, 0, 1
            TextInput: 
                id: studentProgramme
                size_hint: (.2, .5)
                multiline: False
                background_color: (1, 1, 1, 1)
                on_text:
                    root.text_check()
                on_touch_down: 
                    root.keyboard()
                    
        BoxLayout:
            orientation: 'horizontal'
            padding: 2
            Label: 
                text: "Student Email"
                size_hint: (.2, .5)
                color: 0, 0, 0, 1
            TextInput: 
                id: studentEmail
                size_hint: (.2, .5)
                multiline: False
                background_color: (1, 1, 1, 1)
                on_text:
                    root.text_check()
                on_touch_down: 
                    root.keyboard()

        BoxLayout:
            orientation: 'horizontal'
            padding: 2
            Label: 
                text: "Student Phone"
                size_hint: (.2, .5)
                color: 0, 0, 0, 1
            TextInput: 
                id: studentPhone
                size_hint: (.2, .5)
                multiline: False
                background_color: (1, 1, 1, 1)
                on_text:
                    root.text_check()
                on_touch_down: 
                    root.keyboard()
        BoxLayout:
            orientation: 'vertical'
            padding: 240, 20
            Button:
                id: completebtn
                size: self.parent.size
                text: "Complete"
                background_color: (0.3922, 0.5843, 0.9294, 1)
                disabled: True
                on_release: 
                    root.mainpage()

                    
<Vkeyboard>:
    layout:'numeric.json'
    

<promptPage>
    name: "prompt"
    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height
        canvas.before:
            Color:
                rgba: 0.945, 1, 1, 1
            Rectangle:
                source: './start.png'
                size: self.size
                pos: self.pos

    
<loadingPage>
    name: "loading"
    BoxLayout:
        size: root.width, root.height
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: 0.945, 1, 1, 1
            Rectangle:
                source: './loading.png'
                size: self.size
                pos: self.pos
